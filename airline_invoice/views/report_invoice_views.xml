<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Extend standard invoice report to add Basic Fare and Taxes columns -->
    <template id="report_invoice_document_basic_fare_taxes" inherit_id="account.report_invoice_document">
        <!-- Add Basic Fare and Taxes columns in table header -->
        <xpath expr="//table[@name='invoice_line_table']//thead//tr//th[@name='th_taxes']" position="after">
            <th name="th_basic_fare" t-attf-class="text-end {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                <span>Basic Fare</span>
            </th>
            <th name="th_air_taxes" t-attf-class="text-end {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                <span>Taxes</span>
            </th>
        </xpath>
        <!-- Add Basic Fare and Taxes data cells in product lines -->
        <xpath expr="//table[@name='invoice_line_table']//tbody//tr//t[@t-if='line.display_type == \"product\"']//td[@name='td_taxes']" position="after">
            <td name="td_basic_fare" t-attf-class="text-end {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                <span t-if="line.air_basic_fare" class="text-nowrap" t-field="line.air_basic_fare" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
            </td>
            <td name="td_air_taxes" t-attf-class="text-end {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                <span t-if="line.air_taxes_amount" class="text-nowrap" t-field="line.air_taxes_amount" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
            </td>
        </xpath>
    </template>
</odoo>

